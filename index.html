<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>السيرة الذاتية | عبدالعزيز العنزي</title>
    
    <meta name="description" content="موقع السيرة الذاتية لعبدالعزيز العنزي، مطور تطبيقات Flutter.">
    <link rel="icon" type="image/png" href="https://placehold.co/32x32/1D4ED8/FFFFFF?text=A">
    
    <script src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" crossorigin="anonymous" />
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --primary: #3b82f6;
            --accent: #f97316;
            --bg: #f8fafc;
            --txt: #0f172a;
            --card-bg: #ffffff;
            --txt-muted: #64748b;
            --transition-speed: 0.3s;
            --card-radius: 1rem;
        }

        body.dark {
            --bg: #0f172a;
            --txt: #e2e8f0;
            --card-bg: #1e293b;
            --txt-muted: #94a3b8;
        }

        html { scroll-behavior: smooth; }
        body {
            font-family: 'Tajawal', sans-serif;
            margin: 0;
            padding-top: 70px;
            background: var(--bg);
            color: var(--txt);
            line-height: 1.7;
            transition: background-color var(--transition-speed), color var(--transition-speed);
        }
        a { color: var(--primary); text-decoration: none; }
        a:hover, a:focus { color: var(--accent); outline: none; }

        .container { max-width: 900px; margin: 0 auto; padding: 0 1rem; }

        nav {
            position: fixed;
            top: 0;
            right: 0;
            left: 0;
            background: var(--card-bg);
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            z-index: 1000;
            transition: background-color var(--transition-speed);
        }
        .nav-container {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 1.5rem;
            height: 70px;
            max-width: 1100px;
            margin: 0 auto;
        }
        nav .logo { font-weight: 700; font-size: 1.5rem; color: var(--primary); }
        nav ul { list-style: none; display: flex; gap: 1.5rem; margin: 0; padding: 0; }
        nav ul li { cursor: pointer; font-weight: 500; color: var(--txt-muted); transition: color var(--transition-speed); }
        nav ul li:hover { color: var(--primary); }

        .nav-controls { display: flex; align-items: center; gap: 1rem; }
        #languageSwitcher, #darkModeSwitcher {
            background: none; border: none; color: var(--txt-muted);
            cursor: pointer; font-size: 1.2rem; transition: color var(--transition-speed);
        }
        #languageSwitcher:hover, #darkModeSwitcher:hover { color: var(--primary); }
        #hamburger { display: none; }

        main { padding: 3rem 0; }
        section { padding: 3rem 0; border-bottom: 1px solid #e2e8f0; }
        body.dark section { border-color: #334155; }
        section:last-of-type { border-bottom: none; }

        .hero-section { text-align: center; }
        .hero-image { width: 150px; height: 150px; border-radius: 50%; object-fit: cover; border: 5px solid var(--card-bg); box-shadow: 0 10px 30px rgba(0,0,0,0.1); margin: 0 auto 1.5rem; }
        .hero-title { font-size: 2.5rem; font-weight: 700; color: var(--txt); margin-bottom: 0.5rem; line-height: 1.2; }
        .hero-subtitle { font-size: 1.25rem; color: var(--primary); margin-bottom: 1.5rem; }
        .hero-description { font-size: 1.1rem; color: var(--txt-muted); max-width: 600px; margin: 0 auto 2rem; }
        .hero-socials { display: flex; justify-content: center; gap: 1.5rem; margin-bottom: 2rem; }
        .hero-socials a { font-size: 1.8rem; color: var(--txt-muted); transition: color 0.3s, transform 0.3s; }
        .hero-socials a:hover { color: var(--primary); transform: scale(1.1); }

        h2 { font-weight: 700; font-size: 2rem; margin-bottom: 2rem; text-align: center; }
        
        #experience-container ul { list-style-type: none; padding: 0; }
        #experience-container ul li { position: relative; padding-inline-start: 1.5rem; margin-bottom: 0.5rem; }
        #experience-container ul li::before { content: '•'; position: absolute; left: 0; color: var(--primary); }
        [dir="rtl"] #experience-container ul li::before { right: 0; left: auto; }
        
        .skills-grid { display: flex; flex-wrap: wrap; gap: 1rem; justify-content: center; }
        .skill-item { background-color: var(--card-bg); padding: 0.75rem 1.25rem; border-radius: 8px; font-weight: 500; box-shadow: 0 2px 5px rgba(0,0,0,0.05); display: flex; align-items: center; gap: 0.5rem; }
        .skill-item img { height: 20px; width: 20px; }

        .projects-grid { display: grid; grid-template-columns: 1fr; gap: 2rem; }
        .project-card { background: var(--card-bg); border-radius: var(--card-radius); box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05); transition: transform 0.3s, box-shadow 0.3s; display: flex; flex-direction: column; text-align: center; padding: 1.5rem; }
        .project-card:hover { transform: translateY(-5px); box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1); }
        .project-logo-container { height: 80px; margin: 0 auto 1rem; }
        .project-logo { height: 80px; width: 80px; object-fit: contain; }
        .project-title { font-weight: 700; font-size: 1.25rem; margin-bottom: 0.5rem; color: var(--txt); }
        .project-description { font-size: 1rem; color: var(--txt-muted); margin-bottom: 1.5rem; flex-grow: 1; }
        .download-btn { display: inline-block; padding: 0.75rem 1.5rem; background: var(--primary); color: #fff; border-radius: 30px; font-weight: 500; transition: background-color 0.3s; }
        .download-btn:hover { background: var(--accent); }

        footer { text-align: center; padding: 2rem 1rem; margin-top: 2rem; color: var(--txt-muted); font-size: 0.9rem; }
        
        @media (max-width: 768px) {
            nav ul { display: none; }
            #hamburger { display: block; }
            .hero-title { font-size: 2rem; }
            .hero-subtitle { font-size: 1.1rem; }
        }
    </style>
</head>
<body>

    <nav>
        <div class="nav-container">
            <div class="logo" data-i18n="navName"></div>
            <ul id="nav-menu">
                <li data-scroll="experience" data-i18n="experience"></li>
                <li data-scroll="skills" data-i18n="skills"></li>
                <li data-scroll="projects" data-i18n="navProjects"></li>
                <li data-scroll="certificates" data-i18n="certificatesTitle"></li>
            </ul>
            <div class="nav-controls">
                <button id="languageSwitcher"></button>
                <button id="darkModeSwitcher"></button>
                <button id="hamburger"><i class="fas fa-bars"></i></button>
            </div>
        </div>
    </nav>

    <main>
        <section id="hero" class="hero-section">
            <img id="hero-image" src="" alt="صورة شخصية" class="hero-image">
            <h1 id="hero-title" data-i18n="heroTitle"></h1>
            <p id="hero-subtitle" data-i18n="heroSubtitle"></p>
            <p class="hero-description" data-i18n="aboutText"></p>
            <div id="hero-socials" class="hero-socials"></div>
            <a id="hero-cta-btn" href="mailto:aziiz.alanzy@gmail.com" class="download-btn"></a>
        </section>

        <section id="experience">
            <h2 data-i18n="experience"></h2>
            <div id="experience-container"></div>
        </section>

        <section id="skills">
            <h2 data-i18n="skills"></h2>
            <div id="skills-container"></div>
        </section>

        <section id="projects">
            <h2 data-i18n="navProjects"></h2>
            <div id="projects-container" class="projects-grid"></div>
        </section>

        <section id="certificates">
            <h2 data-i18n="certificatesTitle"></h2>
            <div id="certificates-container" class="projects-grid"></div>
        </section>
    </main>

    <footer>
        <p data-i18n="footerText"></p>
    </footer>

    <script>
    document.addEventListener('DOMContentLoaded', async () => {
        let translations;
        try {
            const response = await fetch('./_data/content.json');
            if (!response.ok) throw new Error('Network response was not ok');
            translations = await response.json();
        } catch (error) {
            console.error('Could not load content file:', error);
            document.body.innerHTML = `<div style="text-align: center; padding: 50px; font-family: sans-serif;"><h1>Error</h1><p>Could not load site content. Please check the _data/content.json file and make sure it's accessible.</p></div>`;
            return;
        }

        let currentLang = localStorage.getItem('lang') || 'ar';
        let isDarkMode = localStorage.getItem('darkMode') === 'true';

        const langSwitcher = document.getElementById('languageSwitcher');
        const darkModeSwitcher = document.getElementById('darkModeSwitcher');
        const body = document.body;

        function applyTranslations() {
            const content = translations[currentLang];
            document.documentElement.lang = currentLang;
            document.documentElement.dir = currentLang === 'ar' ? 'rtl' : 'ltr';
            langSwitcher.textContent = currentLang === 'ar' ? 'EN' : 'AR';
            
            document.querySelectorAll('[data-i18n]').forEach(el => {
                const key = el.getAttribute('data-i18n');
                if (content && content[key]) el.innerHTML = content[key];
            });

            document.getElementById('hero-image').src = content.heroImage || '';

            const experienceContainer = document.getElementById('experience-container');
            if (experienceContainer && content.experiences) {
                experienceContainer.innerHTML = content.experiences.map(exp => `
                    <div style="margin-bottom: 2rem;">
                        <h3 style="color: var(--txt); border: none; font-size: 1.2rem; margin-bottom: 0.25rem;">${exp.title}</h3>
                        <p style="color: var(--txt-muted); margin-bottom: 1rem; font-size: 0.9rem;">${exp.location}</p>
                        <ul>${exp.description.map(d => `<li>${d}</li>`).join('')}</ul>
                    </div>
                `).join('');
            }

            const skillsContainer = document.getElementById('skills-container');
            if (skillsContainer && content.skill_categories) {
                skillsContainer.innerHTML = content.skill_categories.map(cat => `
                    <div class="skills-category">
                        <h3><i class="${cat.icon}"></i> ${cat.category_title}</h3>
                        <div class="skills-grid">
                            ${cat.skills.map(skill => `
                                <div class="skill-item">
                                    ${skill.icon_url ? `<img src="${skill.icon_url}" alt="${skill.name}"/>` : ''}
                                    <span>${skill.name}</span>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `).join('');
            }

            const projectsContainer = document.getElementById('projects-container');
            if (projectsContainer && content.projects) {
                projectsContainer.innerHTML = content.projects.map(proj => `
                    <article class="project-card">
                        <div class="project-logo-container">
                            <img src="${proj.icon}" alt="${proj.title}" class="project-logo">
                        </div>
                        <div class="project-title">${proj.title}</div>
                        <p class="project-description">${proj.description}</p>
                        <a href="${proj.link}" class="download-btn">${content.viewProjectBtn}</a>
                    </article>
                `).join('');
            }

            const certificatesContainer = document.getElementById('certificates-container');
            if (certificatesContainer && content.certificates) {
                 certificatesContainer.innerHTML = content.certificates.map(cert => `
                    <article class="project-card">
                        <div class="cert-logo-container"><img loading="lazy" src="${cert.logo}" alt="${cert.title} Logo" class="cert-logo" style="max-height: 40px;" /></div>
                        <div class="project-title">${cert.title}</div>
                        <a href="${cert.link}" target="_blank" rel="noopener noreferrer" class="download-btn">${content.viewCertBtn}</a>
                    </article>
                `).join('');
            }
        }

        function applyDarkMode() {
            const moonIcon = '<i class="fas fa-moon"></i>';
            const sunIcon = '<i class="fas fa-sun"></i>';
            if (isDarkMode) {
                body.classList.add('dark');
                darkModeSwitcher.innerHTML = sunIcon;
            } else {
                body.classList.remove('dark');
                darkModeSwitcher.innerHTML = moonIcon;
            }
        }

        langSwitcher.addEventListener('click', () => {
            currentLang = currentLang === 'ar' ? 'en' : 'ar';
            localStorage.setItem('lang', currentLang);
            applyTranslations();
        });
        darkModeSwitcher.addEventListener('click', () => {
            isDarkMode = !isDarkMode;
            localStorage.setItem('darkMode', isDarkMode);
            applyDarkMode();
        });

        applyTranslations();
        applyDarkMode();
    });
    </script>
</body>
</html>
